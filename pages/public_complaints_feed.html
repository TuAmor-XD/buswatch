<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Public Complaints Feed - BusWatch</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fbuswatch9491back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Global Header Navigation -->
    <header class="bg-surface shadow-civic border-b border-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="public_complaints_feed.html" class="flex items-center space-x-2">
                        <svg class="w-8 h-8 text-primary" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                        <span class="text-xl font-bold text-text-primary">BusWatch</span>
                    </a>
                </div>

                <!-- Search Bar (Desktop) -->
                <div class="hidden md:flex flex-1 max-w-lg mx-8">
                    <div class="relative w-full">
                        <input type="text" id="searchInput" placeholder="Search complaints by route, issue, or keyword..." class="form-input pl-10 pr-4 py-2 w-full" />
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Navigation Links -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="submit_complaint.html" class="btn-primary px-4 py-2 text-sm">
                        Submit Complaint
                    </a>
                    <a href="user_login.html" class="text-text-secondary hover:text-primary transition-colors">
                        Sign In
                    </a>
                    <a href="user_registration.html" class="text-text-secondary hover:text-primary transition-colors">
                        Register
                    </a>
                </nav>

                <!-- Mobile Menu Button -->
                <button id="mobileMenuBtn" class="md:hidden p-2 rounded-md text-text-secondary hover:text-primary hover:bg-secondary-100 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>

            <!-- Mobile Search Bar -->
            <div class="md:hidden pb-4">
                <div class="relative">
                    <input type="text" id="mobileSearchInput" placeholder="Search complaints..." class="form-input pl-10 pr-4 py-2 w-full" />
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobileMenu" class="md:hidden hidden bg-surface border-t border-border">
            <div class="px-4 py-4 space-y-3">
                <a href="submit_complaint.html" class="block btn-primary text-center py-3">
                    Submit Complaint
                </a>
                <a href="user_login.html" class="block text-text-secondary hover:text-primary transition-colors py-2">
                    Sign In
                </a>
                <a href="user_registration.html" class="block text-text-secondary hover:text-primary transition-colors py-2">
                    Register
                </a>
            </div>
        </div>
    </header>

    <!-- Breadcrumb Navigation -->
    <div class="bg-secondary-50 border-b border-border">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
            <nav class="flex items-center space-x-2 text-sm">
                <a href="public_complaints_feed.html" class="text-primary font-medium">
                    Home
                </a>
                <svg class="w-4 h-4 text-text-secondary" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                </svg>
                <span class="text-text-primary">Public Complaints</span>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <div class="lg:grid lg:grid-cols-4 lg:gap-8">
            <!-- Desktop Filter Sidebar -->
            <aside class="hidden lg:block lg:col-span-1">
                <div class="bg-surface rounded-lg shadow-civic border border-border p-6 sticky top-24">
                    <h3 class="text-lg font-semibold text-text-primary mb-4">Filter Complaints</h3>
                    
                    <!-- Route Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Bus Route</label>
                        <select class="form-input text-sm">
                            <option value>All Routes</option>
                            <option value="101">Route 101</option>
                            <option value="205">Route 205</option>
                            <option value="312">Route 312</option>
                            <option value="456">Route 456</option>
                        </select>
                    </div>

                    <!-- Issue Type Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Issue Type</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" checked />
                                <span class="ml-2 text-sm text-text-secondary">Overcharging</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" checked />
                                <span class="ml-2 text-sm text-text-secondary">Mechanical Issues</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" />
                                <span class="ml-2 text-sm text-text-secondary">Poor Service</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" />
                                <span class="ml-2 text-sm text-text-secondary">Safety Concerns</span>
                            </label>
                        </div>
                    </div>

                    <!-- Date Range Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Date Range</label>
                        <select class="form-input text-sm">
                            <option value>All Time</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                        </select>
                    </div>

                    <!-- Clear Filters -->
                    <button class="w-full btn-secondary text-sm py-2">
                        Clear All Filters
                    </button>
                </div>
            </aside>

            <!-- Main Content Area -->
            <div class="lg:col-span-3">
                <!-- Mobile Filter Chips -->
                <div class="lg:hidden mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-semibold text-text-primary">Recent Complaints</h2>
                        <button id="mobileFilterBtn" class="btn-secondary px-3 py-2 text-sm">
                            <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/>
                            </svg>
                            Filters
                        </button>
                    </div>
                    
                    <!-- Active Filter Chips -->
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-600">
                            Overcharging
                            <button class="ml-1 text-primary-400 hover:text-primary-600">
                                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-accent-100 text-accent-600">
                            Mechanical Issues
                            <button class="ml-1 text-accent-400 hover:text-accent-600">
                                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </span>
                    </div>
                </div>

                <!-- Sort and Stats Bar -->
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-text-secondary">
                            <span class="font-medium text-text-primary">247</span> complaints found
                        </span>
                        <div class="hidden sm:flex items-center space-x-2 text-xs text-text-secondary">
                            <div class="flex items-center space-x-1">
                                <div class="w-2 h-2 bg-success-500 rounded-full"></div>
                                <span>12 resolved today</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <select class="form-input text-sm py-1 px-2 min-w-0">
                            <option value="newest">Newest First</option>
                            <option value="trending">Trending</option>
                            <option value="most-voted">Most Voted</option>
                            <option value="oldest">Oldest First</option>
                        </select>
                    </div>
                </div>

                <!-- Complaints Feed -->
                <div id="complaintsContainer" class="space-y-4 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0">
                    <!-- Complaint Card 1 -->
                    <article class="bg-surface rounded-lg shadow-civic border border-border p-6 hover:shadow-civic-md transition-shadow cursor-pointer" onclick="window.location.href='complaint_details.html'">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-primary-600">CM</span>
                                </div>
                                <div>
                                    <h3 class="font-medium text-text-primary">ConcernedMom47</h3>
                                    <p class="text-xs text-text-secondary">Route 101 • 2 hours ago</p>
                                </div>
                            </div>
                            <span class="status-badge status-error">Overcharging</span>
                        </div>
                        
                        <div class="mb-4">
                            <p class="text-text-secondary text-sm leading-relaxed">
                                Driver charged me $3.50 for a ride that should cost $2.25 according to the official fare chart. When I questioned it, he became aggressive and refused to provide a receipt. This happened on the 7:30 AM bus from Downtown Station...
                                <button class="text-primary hover:underline ml-1">Read more</button>
                            </p>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <button class="flex items-center space-x-1 text-text-secondary hover:text-success-600 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
                                    </svg>
                                    <span class="text-sm">23</span>
                                </button>
                                <button class="flex items-center space-x-1 text-text-secondary hover:text-error-600 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v2a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"/>
                                    </svg>
                                    <span class="text-sm">3</span>
                                </button>
                            </div>
                            <div class="flex items-center space-x-2 text-xs text-text-secondary">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span>7 comments</span>
                            </div>
                        </div>
                    </article>

                    <!-- Complaint Card 2 -->
                    <article class="bg-surface rounded-lg shadow-civic border border-border p-6 hover:shadow-civic-md transition-shadow cursor-pointer" onclick="window.location.href='complaint_details.html'">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-accent-100 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-accent-600">DR</span>
                                </div>
                                <div>
                                    <h3 class="font-medium text-text-primary">DailyRider88</h3>
                                    <p class="text-xs text-text-secondary">Route 205 • 4 hours ago</p>
                                </div>
                            </div>
                            <span class="status-badge status-warning">Mechanical Issues</span>
                        </div>
                        
                        <div class="mb-4">
                            <p class="text-text-secondary text-sm leading-relaxed">
                                Bus broke down twice this week on the same route. Air conditioning hasn't worked in months, and the brakes make terrible screeching sounds. Passengers are getting frustrated and some are switching to other transportation...
                                <button class="text-primary hover:underline ml-1">Read more</button>
                            </p>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <button class="flex items-center space-x-1 text-success-600">
                                    <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                                        <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
                                    </svg>
                                    <span class="text-sm font-medium">41</span>
                                </button>
                                <button class="flex items-center space-x-1 text-text-secondary hover:text-error-600 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v2a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"/>
                                    </svg>
                                    <span class="text-sm">8</span>
                                </button>
                            </div>
                            <div class="flex items-center space-x-2 text-xs text-text-secondary">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span>15 comments</span>
                            </div>
                        </div>
                    </article>

                    <!-- Complaint Card 3 -->
                    <article class="bg-surface rounded-lg shadow-civic border border-border p-6 hover:shadow-civic-md transition-shadow cursor-pointer" onclick="window.location.href='complaint_details.html'">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-secondary-100 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-secondary-600">ST</span>
                                </div>
                                <div>
                                    <h3 class="font-medium text-text-primary">StudentTransit</h3>
                                    <p class="text-xs text-text-secondary">Route 312 • 6 hours ago</p>
                                </div>
                            </div>
                            <span class="status-badge status-error">Overcharging</span>
                        </div>
                        
                        <div class="mb-4">
                            <p class="text-text-secondary text-sm leading-relaxed">
                                Student discount not being honored despite showing valid ID. Driver claimed the card reader was broken but other passengers were able to pay with cards just fine. This is the third time this month...
                                <button class="text-primary hover:underline ml-1">Read more</button>
                            </p>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <button class="flex items-center space-x-1 text-text-secondary hover:text-success-600 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
                                    </svg>
                                    <span class="text-sm">18</span>
                                </button>
                                <button class="flex items-center space-x-1 text-text-secondary hover:text-error-600 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v2a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211 1.412.608 2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"/>
                                    </svg>
                                    <span class="text-sm">2</span>
                                </button>
                            </div>
                            <div class="flex items-center space-x-2 text-xs text-text-secondary">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span>4 comments</span>
                            </div>
                        </div>
                    </article>

                    <!-- Complaint Card 4 -->
                    <article class="bg-surface rounded-lg shadow-civic border border-border p-6 hover:shadow-civic-md transition-shadow cursor-pointer" onclick="window.location.href='complaint_details.html'">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-success-100 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-success-600">WC</span>
                                </div>
                                <div>
                                    <h3 class="font-medium text-text-primary">WorkCommuter</h3>
                                    <p class="text-xs text-text-secondary">Route 456 • 8 hours ago</p>
                                </div>
                            </div>
                            <span class="status-badge bg-secondary-100 text-secondary-600">Poor Service</span>
                        </div>
                        
                        <div class="mb-4">
                            <p class="text-text-secondary text-sm leading-relaxed">
                                Bus consistently arrives 15-20 minutes late during rush hour. This makes me late for work almost daily. The schedule posted at the stop doesn't match reality. Other commuters are equally frustrated...
                                <button class="text-primary hover:underline ml-1">Read more</button>
                            </p>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <button class="flex items-center space-x-1 text-success-600">
                                    <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                                        <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
                                    </svg>
                                    <span class="text-sm font-medium">67</span>
                                </button>
                                <button class="flex items-center space-x-1 text-text-secondary hover:text-error-600 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.60L17 4m-7 10v2a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"/>
                                    </svg>
                                    <span class="text-sm">5</span>
                                </button>
                            </div>
                            <div class="flex items-center space-x-2 text-xs text-text-secondary">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span>23 comments</span>
                            </div>
                        </div>
                    </article>
                </div>

                <!-- Load More Button -->
                <div class="mt-8 text-center">
                    <button id="loadMoreBtn" class="btn-secondary px-6 py-3">
                        <svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                        </svg>
                        Load More Complaints
                    </button>
                </div>

                <!-- Loading Skeleton (Hidden by default) -->
                <div id="loadingSkeleton" class="hidden space-y-4 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0">
                    <div class="bg-surface rounded-lg shadow-civic border border-border p-6 animate-pulse">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-secondary-200 rounded-full"></div>
                                <div>
                                    <div class="h-4 bg-secondary-200 rounded w-24 mb-1"></div>
                                    <div class="h-3 bg-secondary-200 rounded w-32"></div>
                                </div>
                            </div>
                            <div class="h-6 bg-secondary-200 rounded w-20"></div>
                        </div>
                        <div class="space-y-2 mb-4">
                            <div class="h-4 bg-secondary-200 rounded"></div>
                            <div class="h-4 bg-secondary-200 rounded"></div>
                            <div class="h-4 bg-secondary-200 rounded w-3/4"></div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="h-6 bg-secondary-200 rounded w-12"></div>
                                <div class="h-6 bg-secondary-200 rounded w-12"></div>
                            </div>
                            <div class="h-4 bg-secondary-200 rounded w-20"></div>
                        </div>
                    </div>
                    <div class="bg-surface rounded-lg shadow-civic border border-border p-6 animate-pulse">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-secondary-200 rounded-full"></div>
                                <div>
                                    <div class="h-4 bg-secondary-200 rounded w-24 mb-1"></div>
                                    <div class="h-3 bg-secondary-200 rounded w-32"></div>
                                </div>
                            </div>
                            <div class="h-6 bg-secondary-200 rounded w-20"></div>
                        </div>
                        <div class="space-y-2 mb-4">
                            <div class="h-4 bg-secondary-200 rounded"></div>
                            <div class="h-4 bg-secondary-200 rounded"></div>
                            <div class="h-4 bg-secondary-200 rounded w-3/4"></div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="h-6 bg-secondary-200 rounded w-12"></div>
                                <div class="h-6 bg-secondary-200 rounded w-12"></div>
                            </div>
                            <div class="h-4 bg-secondary-200 rounded w-20"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Filter Modal -->
    <div id="mobileFilterModal" class="fixed inset-0 z-50 hidden lg:hidden">
        <div class="fixed inset-0 bg-black bg-opacity-50" id="mobileFilterOverlay"></div>
        <div class="fixed bottom-0 left-0 right-0 bg-surface rounded-t-lg p-6 max-h-96 overflow-y-auto">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-text-primary">Filter Complaints</h3>
                <button id="closeMobileFilter" class="text-text-secondary hover:text-text-primary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <!-- Mobile Filter Content -->
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-text-primary mb-2">Bus Route</label>
                    <select class="form-input text-sm">
                        <option value>All Routes</option>
                        <option value="101">Route 101</option>
                        <option value="205">Route 205</option>
                        <option value="312">Route 312</option>
                        <option value="456">Route 456</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium text-text-primary mb-2">Issue Type</label>
                    <div class="space-y-2">
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" checked />
                            <span class="ml-2 text-sm text-text-secondary">Overcharging</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" checked />
                            <span class="ml-2 text-sm text-text-secondary">Mechanical Issues</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" />
                            <span class="ml-2 text-sm text-text-secondary">Poor Service</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-border text-primary focus:ring-primary" />
                            <span class="ml-2 text-sm text-text-secondary">Safety Concerns</span>
                        </label>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-text-primary mb-2">Date Range</label>
                    <select class="form-input text-sm">
                        <option value>All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                    </select>
                </div>

                <div class="flex space-x-3 pt-4">
                    <button class="flex-1 btn-secondary py-2">Clear All</button>
                    <button class="flex-1 btn-primary py-2" id="applyMobileFilters">Apply Filters</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-surface border-t border-border mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center space-x-2 mb-4">
                        <svg class="w-8 h-8 text-primary" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                        <span class="text-xl font-bold text-text-primary">BusWatch</span>
                    </div>
                    <p class="text-text-secondary text-sm mb-4">
                        Empowering passengers to improve public transportation through transparent feedback and community engagement.
                    </p>
                    <div class="flex items-center space-x-4 text-xs text-text-secondary">
                        <div class="flex items-center space-x-1">
                            <svg class="w-4 h-4 text-success-500" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                            </svg>
                            <span>SSL Secured</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>Transit Authority Verified</span>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-semibold text-text-primary mb-3">Quick Links</h4>
                    <ul class="space-y-2 text-sm text-text-secondary">
                        <li><a href="submit_complaint.html" class="hover:text-primary transition-colors">Submit Complaint</a></li>
                        <li><a href="user_registration.html" class="hover:text-primary transition-colors">Register</a></li>
                        <li><a href="user_login.html" class="hover:text-primary transition-colors">Sign In</a></li>
                        <li><a href="javascript:void(0)" class="hover:text-primary transition-colors">Help Center</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-text-primary mb-3">Legal</h4>
                    <ul class="space-y-2 text-sm text-text-secondary">
                        <li><a href="javascript:void(0)" class="hover:text-primary transition-colors">Privacy Policy</a></li>
                        <li><a href="javascript:void(0)" class="hover:text-primary transition-colors">Terms of Service</a></li>
                        <li><a href="javascript:void(0)" class="hover:text-primary transition-colors">Community Guidelines</a></li>
                        <li><a href="javascript:void(0)" class="hover:text-primary transition-colors">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-border mt-8 pt-6 text-center">
                <p class="text-xs text-text-secondary">
                    © 2025 BusWatch. All Rights Reserved. | Helping improve public transportation since 2024
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript for Interactions -->
    <script>
        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        });

        // Mobile filter modal
        document.getElementById('mobileFilterBtn').addEventListener('click', function() {
            document.getElementById('mobileFilterModal').classList.remove('hidden');
        });

        document.getElementById('closeMobileFilter').addEventListener('click', function() {
            document.getElementById('mobileFilterModal').classList.add('hidden');
        });

        document.getElementById('mobileFilterOverlay').addEventListener('click', function() {
            document.getElementById('mobileFilterModal').classList.add('hidden');
        });

        document.getElementById('applyMobileFilters').addEventListener('click', function() {
            document.getElementById('mobileFilterModal').classList.add('hidden');
            // Apply filter logic here
        });

        // Load more functionality
        document.getElementById('loadMoreBtn').addEventListener('click', function() {
            const loadingSkeleton = document.getElementById('loadingSkeleton');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            
            // Show loading skeleton
            loadingSkeleton.classList.remove('hidden');
            loadMoreBtn.style.display = 'none';
            
            // Simulate loading delay
            setTimeout(function() {
                loadingSkeleton.classList.add('hidden');
                loadMoreBtn.style.display = 'inline-flex';
                // In real app, append new complaint cards here
            }, 2000);
        });

        // Search functionality
        function handleSearch(searchInput) {
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                // In real app, filter complaints based on search query
                console.log('Searching for:', query);
            });
        }

        handleSearch(document.getElementById('searchInput'));
        handleSearch(document.getElementById('mobileSearchInput'));

        // Voting functionality
        document.addEventListener('click', function(e) {
            if (e.target.closest('button[class*="text-success-600"], button[class*="hover:text-success-600"]')) {
                const button = e.target.closest('button');
                const countSpan = button.querySelector('span');
                const currentCount = parseInt(countSpan.textContent);
                
                // Toggle vote
                if (button.classList.contains('text-success-600')) {
                    button.classList.remove('text-success-600');
                    button.classList.add('text-text-secondary', 'hover:text-success-600');
                    countSpan.textContent = currentCount - 1;
                } else {
                    button.classList.add('text-success-600');
                    button.classList.remove('text-text-secondary', 'hover:text-success-600');
                    countSpan.textContent = currentCount + 1;
                }
                
                e.stopPropagation();
            }
        });

        // Pull to refresh simulation (mobile)
        let startY = 0;
        let pullDistance = 0;
        const pullThreshold = 100;

        if ('ontouchstart' in window) {
            document.addEventListener('touchstart', function(e) {
                startY = e.touches[0].clientY;
            });

            document.addEventListener('touchmove', function(e) {
                if (window.scrollY === 0) {
                    pullDistance = e.touches[0].clientY - startY;
                    if (pullDistance > 0 && pullDistance < pullThreshold) {
                        // Show pull indicator
                        document.body.style.transform = `translateY(${pullDistance * 0.5}px)`;
                    }
                }
            });

            document.addEventListener('touchend', function() {
                if (pullDistance > pullThreshold) {
                    // Trigger refresh
                    location.reload();
                }
                document.body.style.transform = '';
                pullDistance = 0;
            });
        }

        // Infinite scroll
        window.addEventListener('scroll', function() {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 1000) {
                // Load more content when near bottom
                const loadMoreBtn = document.getElementById('loadMoreBtn');
                if (loadMoreBtn.style.display !== 'none') {
                    loadMoreBtn.click();
                }
            }
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>